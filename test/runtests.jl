using Test, ROOTStats

@testset "Chi2/NDF" begin


    using FHist
    d1 = [0.6339055392666233, 0.565168017640875, 0.7234973233593596, 0.45359810509051823, 0.5162700131917882, 0.7627336507081178, 0.7756769350016518, 0.9156760356951787, 0.009681450618879595, 0.3626168778719092]
    d2 = [0.8015958532485303, 0.9946061675308772, 0.3472573695750213, 0.030646905742111263, 0.9893437408228457, 0.40397647036147843, 0.9075143970481567, 0.17149009274814475, 0.6695864596719241, 0.13619298031055738]
    h1 = Hist1D(d1; binedges=0:0.01:1)
    h2 = Hist1D(d2; binedges=0:0.01:1)


    @test all(chi2test(h1, h2, :WW) .≈ (20.0, 19))
    
    @test_throws "Not implemented yet" all(chi2test(h1, h2, :UU) .≈ (20.0, 19))
    @test_throws "Not implemented yet" all(chi2test(h1, h2, :UW) .≈ (4.366264099382965, 19))
end